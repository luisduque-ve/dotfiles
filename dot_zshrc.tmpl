############################# PATH START ############################

export PATH=$HOME/.src/builds/bin:$PATH
export PATH="{{- .brew_path -}}/bin:$PATH"
export PATH="{{- .brew_path -}}/sbin:$PATH"

############################# PATH END ##############################

############################## NVM START ############################

mkdir -p ~/.nvm

export NVM_DIR="$HOME/.nvm"

# This loads nvm
[ -s "/opt/homebrew/opt/nvm/nvm.sh" ] && \. "/opt/homebrew/opt/nvm/nvm.sh"

# This loads nvm bash_completion
[ -s "/opt/homebrew/opt/nvm/etc/bash_completion.d/nvm" ] && \. "/opt/homebrew/opt/nvm/etc/bash_completion.d/nvm"

############################## NVM END ##############################

########################### STARSHIP START ##########################

eval "$(starship init zsh)"

########################### STARSHIP END ############################

########################### PYTHON START ############################

export PYENV_ROOT="$HOME/.pyenv"
[[ -d $PYENV_ROOT/bin ]] && export PATH="$PYENV_ROOT/bin:$PATH"
eval "$(pyenv init -)"

########################### PYTHON END ##############################

########################### SETTINGS START ##########################

# All the settings in this section is important to keep at the very
# botton some of them depends on the initial PATH setup

bindkey -v

export FZF_DEFAULT_OPTS="--color=bg:#fbf1c7,bg+:#ebdbb2,spinner:#458588,hl:#076678,fg:#3c3836,header:#3c3836,fg+:#3c3836,bg+:#d5c4a1,hl+:#076678"

# Set up fzf key bindings and fuzzy completion
source <(fzf --zsh)
alias fzf="fzf -m --query \"'\" "


function a() {
  local query="$1"
  local selected_dir
  if [[ -n "$query" ]]; then
    selected_dir=$(zoxide query -l | grep -i "$query" | fzf)
  else
    selected_dir=$(zoxide query -l | fzf)
  fi
  cd "$selected_dir"
}


function A() {
  local query="$1"
  local selected_dir
  if [[ -n "$query" ]]; then
    selected_dir=$(zoxide query -l | grep -i "$query" | fzf)
  else
    selected_dir=$(zoxide query -l | fzf)
  fi
  if [[ -n "$selected_dir" ]]; then
    zoxide remove "$selected_dir"
    echo "Removed $selected_dir from zoxide history."
  else
    echo "No directory selected."
  fi
}

eval "$(ssh-agent -s > /dev/null 2>&1)"

# ls replacement
alias ls="eza -l -h"

# git
alias g="git"

# chezmoi
alias c="chezmoi"

########################### SETTINGS END ############################
